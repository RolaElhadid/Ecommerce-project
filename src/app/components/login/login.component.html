<section class="bg-main-light p-2 my-2 rounded-4 shadow">
    <h1 class="h2 text-main">
        login Now:
    </h1>

    <form [formGroup]="loginForm" (ngSubmit)="loginSubmit()">

     

       
       <div class="my-2">
        <label for="email">email</label>
        <input type="email" class="form-control" id="email" formControlName="email" [ngClass]="{
            'is-valid': !loginForm.get('email')?.errors &&( loginForm.get('email')?.touched || loginForm.get('email')?.dirty),
            'is-invalid':loginForm.get('email')?.errors && ( loginForm.get('email')?.touched || loginForm.get('email')?.dirty)
        }">

       @if(loginForm.get('email')?.errors && ( loginForm.get('email')?.touched || loginForm.get('email')?.dirty)){
        <div class="alert alert-danger w-50" >
            @if(loginForm.get('email')?.getError('required')){

                <p class="m-0">Email is required</p>

            }
            @else if (loginForm.get('email')?.getError('email')) {
                <p class="m-0">Enter Valid Email </p>

            }

        </div>
       }
       </div>


      

       <div class="my-2">
        <label for="password">password</label>
        <input type="password" class="form-control" id="password" formControlName="password" [ngClass]="{
            'is-valid': !loginForm.get('password')?.errors &&( loginForm.get('password')?.touched || loginForm.get('password')?.dirty),
            'is-invalid':loginForm.get('password')?.errors && ( loginForm.get('password')?.touched || loginForm.get('password')?.dirty)
        }">
        @if(loginForm.get('password')?.errors && ( loginForm.get('password')?.touched || loginForm.get('password')?.dirty)){

            <div class="alert alert-danger w-50" >
                @if(loginForm.get('password')?.getError('required')){
    
                    <p class="m-0">Password is required</p>
    
                }
                @else if (loginForm.get('password')?.getError('pattern')) {

                    <p class="m-0">Enter Valid  Password </p>
    
                }
    
            </div>
           }
       </div>

   <div class="d-flex justify-content-end align-items-center gap-4">
    <a routerLink="/forgot" class="link-primary">Forgot Password</a>
    
    <button  class="btn-main" type="submit">login
        @if(isLoading ){
            
            <span>
                <i class="fas fa-spin fa-spinner"></i>
            </span>
        }
                </button>
   </div>

@if(errorMsg){
            <p class="alert alert-danger w-50 m-0">{{errorMsg}}</p>

        }

@if(successMsg){
<p class="active-link w-50 p-2 text-center fw-bold">Success</p>
}
    </form>
</section>