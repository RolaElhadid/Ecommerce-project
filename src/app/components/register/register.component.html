<section class="bg-main-light p-2 my-2 rounded-4 shadow">
    <h1 class="h2 text-main">
        Register Now:
    </h1>

    <form [formGroup]="registerForm" (ngSubmit)="registerSubmit()">

       <div class="my-2" >
        <label for="name">name</label>
        <input type="text" class="form-control" id="name" formControlName="name" [ngClass]="{
            'is-valid': !registerForm.get('name')?.errors &&( registerForm.get('name')?.touched || registerForm.get('name')?.dirty),
            'is-invalid':registerForm.get('name')?.errors && ( registerForm.get('name')?.touched || registerForm.get('name')?.dirty)
        }">

        @if(registerForm.get('name')?.errors &&( registerForm.get('name')?.touched || registerForm.get('name')?.dirty)){
            
            <div class="alert alert-danger w-50">

                @if(registerForm.get('name')?.getError('required')){
                    <p class="m-0">Name is required</p>
                }
                 @else if(registerForm.get('name')?.getError('minlength')){

                    <p class="m-0">Name should be more than or equal 3 chars</p>

                 }
                 @else if(registerForm.get('name')?.getError('maxlength')){
                    <p class="m-0">Name should be less than or equal 20 chars</p>
                 }
             </div> 
        }
       
       </div>

       
       <div class="my-2">
        <label for="email">email</label>
        <input type="email" class="form-control" id="email" formControlName="email" [ngClass]="{
            'is-valid': !registerForm.get('email')?.errors &&( registerForm.get('email')?.touched || registerForm.get('email')?.dirty),
            'is-invalid':registerForm.get('email')?.errors && ( registerForm.get('email')?.touched || registerForm.get('email')?.dirty)
        }">

       @if(registerForm.get('email')?.errors && ( registerForm.get('email')?.touched || registerForm.get('email')?.dirty)){
        <div class="alert alert-danger w-50" >
            @if(registerForm.get('email')?.getError('required')){

                <p class="m-0">Email is required</p>

            }
            @else if (registerForm.get('email')?.getError('email')) {
                <p class="m-0">Enter Valid Email </p>

            }

        </div>
       }
       </div>


       <div class="my-2">
        <label for="phone">phone</label>
        <input type="tel" class="form-control" id="phone" formControlName="phone" [ngClass]="{
            'is-valid': !registerForm.get('phone')?.errors &&( registerForm.get('phone')?.touched || registerForm.get('phone')?.dirty),
            'is-invalid':registerForm.get('phone')?.errors && ( registerForm.get('phone')?.touched || registerForm.get('phone')?.dirty)
        }">
        @if(registerForm.get('phone')?.errors && ( registerForm.get('phone')?.touched || registerForm.get('phone')?.dirty)){

            <div class="alert alert-danger w-50" >
                @if(registerForm.get('phone')?.getError('required')){
    
                    <p class="m-0">Phone Number is required</p>
    
                }
                @else if (registerForm.get('phone')?.getError('pattern')) {

                    <p class="m-0">Enter Valid Phone Number </p>
    
                }
    
            </div>
           }
       </div>

       <div class="my-2">
        <label for="password">password</label>
        <input type="password" class="form-control" id="password" formControlName="password" [ngClass]="{
            'is-valid': !registerForm.get('password')?.errors &&( registerForm.get('password')?.touched || registerForm.get('password')?.dirty),
            'is-invalid':registerForm.get('password')?.errors && ( registerForm.get('password')?.touched || registerForm.get('password')?.dirty)
        }">
        @if(registerForm.get('password')?.errors && ( registerForm.get('password')?.touched || registerForm.get('password')?.dirty)){

            <div class="alert alert-danger w-50" >
                @if(registerForm.get('password')?.getError('required')){
    
                    <p class="m-0">Password is required</p>
    
                }
                @else if (registerForm.get('password')?.getError('pattern')) {

                    <p class="m-0">Enter Valid  Password </p>
    
                }
    
            </div>
           }
       </div>

      <div class="my-2">
        <label for="Repassword">Repassword</label>
        <input  type="password" class="form-control" id="Repassword" formControlName="rePassword" [ngClass]="{
            'is-valid': !registerForm.get('rePassword')?.errors &&( registerForm.get('rePassword')?.touched || registerForm.get('rePassword')?.dirty),
            'is-invalid':registerForm.getError('mismatch')
        }">
      
        @if(registerForm.getError('mismatch') && ( registerForm.get('rePassword')?.touched || registerForm.get('rePassword')?.dirty)){
<p class="alert alert-danger w-50">
    Password confirmation is incorrect
</p>
        }
 </div>

        <button  class="btn-main btn d-block ms-auto">Register
@if(isLoading ){
    
    <span>
        <i class="fas fa-spin fa-spinner"></i>
    </span>
}
        </button>

@if(errorMsg){
            <p class="alert alert-danger w-50 m-0">{{errorMsg}}</p>

        }

@if(successMsg){
<p class="active-link w-50 p-2 text-center fw-bold">Success</p>
}
    </form>
</section>